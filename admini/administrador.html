<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Dashboard ‚Äî Pedidos</title>
    <link rel="stylesheet" href="assets/css/styles-pruducts.css">
    <link rel="stylesheet" href="assets/css/admin-products.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <!-- Sidebar toggle (checkbox hack) -->
    <input id="nav-toggle" type="checkbox" class="nav-toggle" aria-hidden="true">

    <!-- Top bar -->
    <header class="topbar">
        <div class="top-left">
            <label for="nav-toggle" class="hamburger" aria-hidden="true">
                <span class="hamburger-box"><span class="hamburger-inner"></span></span>
            </label>
            <a class="brand" href="./" aria-label="Dashboard">
                <span class="logo" aria-hidden="true">
                    <!-- simple logo svg -->
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <rect x="3" y="3" width="6" height="18" rx="1.5" fill="#2b6ef6"></rect>
                        <rect x="10.5" y="9" width="6" height="12" rx="1.5" fill="#60c3ff"></rect>
                        <rect x="18" y="15" width="3" height="6" rx="1.5" fill="#9bdc8e"></rect>
                    </svg>
                </span>
                <span class="brand-text">Varius</span>
            </a>
        </div>

        <div class="top-search">
            <label for="q" class="sr-only">Buscar</label>
            <input id="q" type="search" placeholder="Search..." aria-label="Buscar" />
        </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" aria-label="Navegaci√≥n principal">
        <nav>
            <ul class="nav-list">
                <li class="nav-item active">
                    <a href="./" class="nav-link">
                        <span class="nav-icon" aria-hidden="true">üè†</span>
                        <span class="nav-text">Dashboard</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="usuarios.html" class="nav-link">
                        <span class="nav-icon" aria-hidden="true">üë•</span>
                        <span class="nav-text">Usuarios</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="product.html" class="nav-link">
                        <span class="nav-icon" aria-hidden="true">üì¶</span>
                        <span class="nav-text">Productos</span>
                    </a>
                </li>

                <li class="nav-item">
                    <details class="nav-dropdown">
                        <summary class="nav-link summary-link">
                            <span class="nav-icon" aria-hidden="true">‚öôÔ∏è</span>
                            <span class="nav-text">Settings</span>
                        </summary>
                        <ul class="sub-list">
                            <li><a href="#">Cuenta</a></li>
                            <li><a href="#">Seguridad</a></li>
                            <li><a href="#">Integraciones</a></li>
                        </ul>
                    </details>
                </li>
            </ul>

            <!-- bottom user block -->
            <div class="sidebar-user">
                <div class="sidebar-user-info">
                    <span class="avatar circle"></span>
                    <div class="user-meta">
                        <div class="name"></div>
                        <div class="email"></div>
                    </div>
                </div>
                <a href="#" class="logout-btn" id="logout">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-power" viewBox="0 0 16 16">
                        <path d="M7.5 1v7h1V1z" />
                        <path
                            d="M3 8.812a5 5 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812" />
                    </svg>
                </a>
            </div>
        </nav>
    </aside>

    <!-- Main content -->
    <main class="main">

        <!-- KPI cards -->
        <section class="kpis" aria-label="Indicadores r√°pidos">
            <article class="card kpi-card">
                <div class="kpi-info">
                    <div class="kpi-title">Pedidos hoy</div>
                    <div class="kpi-value">12</div>
                    <div class="kpi-meta muted">Comparado con ayer</div>
                </div>
                <div class="kpi-icon" aria-hidden="true">
                    <div class="icon-square">üì¶</div>
                </div>
            </article>

            <article class="card kpi-card">
                <div class="kpi-info">
                    <div class="kpi-title">Ventas</div>
                    <div class="kpi-value">$359.880</div>
                    <div class="kpi-meta muted">Total diario</div>
                </div>
                <div class="kpi-icon" aria-hidden="true">
                    <div class="icon-square">üí≤</div>
                </div>
            </article>

            <article class="card kpi-card">
                <div class="kpi-info">
                    <div class="kpi-title">Stock bajo</div>
                    <div class="kpi-value">3</div>
                    <div class="kpi-meta muted">Productos con bajo stock</div>
                </div>
                <div class="kpi-icon" aria-hidden="true">
                    <div class="icon-square">‚ö†Ô∏è</div>
                </div>
            </article>

            <article class="card kpi-card">
                <div class="kpi-info">
                    <div class="kpi-title">Caja</div>
                    <div class="kpi-value">Abierta</div>
                    <div class="kpi-meta muted">Estado actual</div>
                </div>
                <div class="kpi-icon" aria-hidden="true">
                    <div class="icon-square">üèß</div>
                </div>
            </article>
        </section>

        <!-- Quick actions -->
        <section class="table-wrap card quick-actions-card" aria-label="Acciones r√°pidas">
            <div class="table-header" style="padding: 18px 12px;">
                <h3>Acciones R√°pidas</h3>
            </div>
            <div class="quick-actions" style="padding: 12px;">
                <button class="action-btn action-primary" data-action="crear-producto">
                    <span class="action-icon">Ôºã</span>
                    <span>Crear producto</span>
                </button>

                <button class="action-btn" data-action="gestionar-usuarios" onclick="window.location.href='usuarios.html'">
                    <span class="action-icon">üë•</span>
                    <span>Gestionar usuarios</span>
                </button>

                <button class="action-btn" data-action="inventario" onclick="window.location.href='product.html'">
                    <span class="action-icon">üè¨</span>
                    <span>Inventario</span>
                </button>

                <button class="action-btn" data-action="cierre-caja">
                    <span class="action-icon">üßæ</span>
                    <span>Cierre de caja</span>
                </button>
            </div>
        </section>

        <!-- Filters (nuevo) -->
        <section class="filters-card card" aria-label="Filtros de pedidos" style="margin-top:16px;">
            <div class="table-header" style="padding: 0 6px 12px;">
                <h3>Filtros</h3>
            </div>

            <form class="filters-grid" id="ordersFilters" style="gap:12px; align-items:end;">
                <div class="filter-field">
                    <label for="fechaInicio">Fecha inicio</label>
                    <input id="fechaInicio" name="fechaInicio" type="date" />
                </div>

                <div class="filter-field">
                    <label for="fechaFin">Fecha fin</label>
                    <input id="fechaFin" name="fechaFin" type="date" />
                </div>

                <div class="filter-field">
                    <label for="productoFiltro">Producto</label>
                    <select id="productoFiltro" name="productoFiltro">
                        <option value="">Todos</option>
                        <option value="zapatillas">Zapatillas Urbanas</option>
                        <option value="auriculares">Auriculares</option>
                    </select>
                </div>

                <div class="filter-field">
                    <label for="estadoPago">Estado de pago</label>
                    <select id="estadoPago" name="estadoPago">
                        <option value="">Todos</option>
                        <option value="pagado">Pagado</option>
                        <option value="pendiente">Pendiente</option>
                    </select>
                </div>

                <div class="filter-field">
                    <label for="estadoEnvio">Estado de env√≠o</label>
                    <select id="estadoEnvio" name="estadoEnvio">
                        <option value="">Todos</option>
                        <option value="pendiente">Pendiente</option>
                        <option value="enviado">Enviado</option>
                        <option value="entregado">Entregado</option>
                    </select>
                </div>

                <div class="filter-field">
                    <label for="motorizadoFiltro">Motorizado</label>
                    <select id="motorizadoFiltro" name="motorizadoFiltro">
                        <option value="">Todos</option>
                        <option value="sin-asignar">Sin asignar</option>
                        <option value="juan">Juan</option>
                    </select>
                </div>

                <div style="grid-column: 1 / -1; display:flex; justify-content:flex-start; margin-top:4px;">
                    <button type="button" class="btn-apply" id="applyFilters">Aplicar filtros</button>
                </div>
            </form>
        </section>

        <!-- Orders table -->
        <section class="table-wrap card" style="margin-top:16px;">
            <div class="table-header">
                <h3>Pedidos</h3>
                <a class="view-all" href="#">Ver Todo</a>
            </div>
            <div class="table-scroll">
                <table class="products-table orders-table" role="table" aria-label="Tabla de pedidos">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>CLIENTE</th>
                            <th>PRODUCTO</th>
                            <th>FECHA</th>
                            <th>TOTAL</th>
                            <th>ESTADO PAGO</th>
                            <th>ESTADO ENV√çO</th>
                            <th>MOTORIZADO</th>
                            <th>ACCIONES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>#001</td>
                            <td>Juan P√©rez</td>
                            <td>Zapatillas Urbanas</td>
                            <td>15/01/2025</td>
                            <td>$89.990</td>
                            <td><span class="badge paid">Pagado</span></td>
                            <td><span class="badge pending">Pendiente</span></td>
                            <td>-</td>
                            <td><button class="icon-btn">Asignar</button></td>
                        </tr>

                        <tr>
                            <td>#002</td>
                            <td>Mar√≠a L√≥pez</td>
                            <td>Auriculares</td>
                            <td>14/01/2025</td>
                            <td>$45.000</td>
                            <td><span class="badge pending">Pendiente</span></td>
                            <td><span class="badge shipped">Enviado</span></td>
                            <td>Juan</td>
                            <td><button class="icon-btn">Ver</button></td>
                        </tr>

                        <!-- fila de ejemplo m√°s -->
                        <tr>
                            <td>#003</td>
                            <td>Carlos D√≠az</td>
                            <td>Cinta led</td>
                            <td>13/01/2025</td>
                            <td>$12.000</td>
                            <td><span class="badge paid">Pagado</span></td>
                            <td><span class="badge delivered">Entregado</span></td>
                            <td>‚Äî</td>
                            <td><button class="icon-btn">Ver</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <script type="module" src="../assets/js/sidebar-user.js"></script>
    <script type="module">
        import { logout } from '../assets/js/auth.js';
        const logoutBtn = document.getElementById('logout');
        if (logoutBtn) logoutBtn.addEventListener('click', logout);

        // Acciones r√°pidas
        document.querySelectorAll('.action-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const action = btn.dataset.action;
                console.log('Acci√≥n r√°pida clic: ', action);
            });
        });

        // Aplicar filtros (demo)
        document.getElementById('applyFilters').addEventListener('click', () => {
            const form = document.getElementById('ordersFilters');
            const data = new FormData(form);
            // Aqu√≠ puedes construir la query y refrescar la tabla via fetch o filtrar en el cliente
            console.log('Filtros aplicados:', Object.fromEntries(data.entries()));
            alert('Filtros aplicados (demo). Reemplaza esta l√≥gica por llamada real a tu API.');
        });
    </script>
</body>

</html>